<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sparket - Contact</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <style>
      /* Contact form styling */
      .help-section {
        text-align: center;
        padding: 2rem 1rem;
      }

      .help-section form {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        max-width: 500px;
        width: 100%;
        margin: 1.5rem auto;
        text-align: left;
      }

      .help-section input,
      .help-section textarea {
        padding: 0.75rem 1rem;
        font-size: var(--text-base);
        border: 1px solid #ccc;
        border-radius: 0.5rem;
        outline: none;
        transition: border 0.3s, box-shadow 0.3s;
      }

      .help-section input:focus,
      .help-section textarea:focus {
        border-color: var(--color-primary);
        box-shadow: 0 0 5px rgba(77, 144, 120, 0.5);
      }

      .help-section textarea {
        min-height: 150px;
        resize: vertical;
      }

      .help-section button {
        background-color: var(--color-primary);
        color: #fff;
        border: none;
        padding: 0.75rem;
        font-size: var(--text-base);
        font-weight: var(--weight-bold);
        border-radius: 0.5rem;
        cursor: pointer;
        transition: background-color 0.3s;
      }

      .help-section button:hover {
        background-color: var(--color-secondary);
      }

      #form-status {
        margin-top: 0.5rem;
        font-size: var(--text-base);
        font-weight: var(--weight-medium);
        text-align: center;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <ul class="nav-links">
        <li><a href="index.html#about">What is Sparket?</a></li>
        <li><a href="help.html">How can I help?</a></li>
        <li><a href="contact.html">Contact us</a></li>
      </ul>
      <img
        src="images/sparketLogoNew (500 x 200 px).png"
        alt="Sparket Logo"
        class="nav-logo"
      />
    </nav>

    <!-- Contact Section -->
    <div class="help-section">
      <h2>Contact Sparket</h2>
      <p>Have questions or want to collaborate? Send us a message below:</p>

      <form id="contact-form">
        <input type="text" name="from_name" placeholder="Your Name" required />
        <input
          type="email"
          name="from_email"
          placeholder="Your Email"
          required
        />
        <textarea name="message" placeholder="Your Message" required></textarea>
        <button type="submit">Send Message</button>
        <p id="form-status"></p>
      </form>
    </div>

    <!-- Footer -->
    <footer>
      <p>&copy; 2025 Sparket. All rights reserved.</p>
      <a href="#">Contact us for more</a>
    </footer>

    <!-- Load latest EmailJS SDK -->
    <script src="https://cdn.emailjs.com/sdk/3.6.2/email.min.js"></script>
    <script>
      const sdkScript = document.createElement("script");
      sdkScript.src = "https://cdn.emailjs.com/sdk/3.6.2/email.min.js";
      sdkScript.onload = function () {
        console.log("EmailJS SDK loaded:", typeof emailjs);
        if (!emailjs) {
          console.error("EmailJS not available!");
          return;
        }

        emailjs.init("Ie8jJG43w5Oo1l5mg"); // your public key

        const form = document.getElementById("contact-form");
        const status = document.getElementById("form-status");

        form.addEventListener("submit", function (e) {
          e.preventDefault();
          status.innerText = "Sending...";
          status.style.color = "black";

          emailjs
            .sendForm("service_zg4ptar", "template_1kdisuc", this)
            .then((response) => {
              console.log("EmailJS response:", response);
              if (response && response.status === 200) {
                status.innerText = "Message sent successfully!";
                status.style.color = "green";
              } else {
                status.innerText = "Unexpected response. Check console.";
                status.style.color = "orange";
              }
              form.reset();
            })
            .catch((err) => {
              console.error("EmailJS error:", err);
              status.innerText = "Failed to send message. Please try again.";
              status.style.color = "red";
            });
        });
      };

      document.body.appendChild(sdkScript);
    </script>
  </body>
</html>
